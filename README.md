# Q-Table Visualizer V2

–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –≤–∏–∑—É–∞–ª–∏–∑–∞—Ç–æ—Ä –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ –æ–±—É—á–µ–Ω–∏—è —Å –ø–æ–¥–∫—Ä–µ–ø–ª–µ–Ω–∏–µ–º (Reinforcement Learning), —Ç–∞–∫–∏—Ö –∫–∞–∫ Q-Learning –∏ SARSA. –ü—Ä–æ–µ–∫—Ç –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞–±–ª—é–¥–∞—Ç—å –∑–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–º –æ–±—É—á–µ–Ω–∏—è –∞–≥–µ–Ω—Ç–∞ –≤ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ–π —Å–µ—Ç–æ—á–Ω–æ–π —Å—Ä–µ–¥–µ.

## üöÄ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

-   **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –æ–±—É—á–µ–Ω–∏—è**: –ù–∞–±–ª—é–¥–∞–π—Ç–µ –∑–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º Q-–∑–Ω–∞—á–µ–Ω–∏–π, –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º Epsilon –∏ –ø—Ä–æ—Ü–µ—Å—Å–æ–º –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π –∞–≥–µ–Ω—Ç–æ–º.
-   **–î–≤–∞ –∞–ª–≥–æ—Ä–∏—Ç–º–∞**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ **Q-Learning** (off-policy) –∏ **SARSA** (on-policy).
-   **–ì–∏–±–∫–∏–π —Ä–µ–¥–∞–∫—Ç–æ—Ä –∫–∞—Ä—Ç**:
    -   –†–∏—Å–æ–≤–∞–Ω–∏–µ —Å—Ç–µ–Ω, –ª–æ–≤—É—à–µ–∫ –∏ –±–æ–Ω—É—Å–æ–≤.
    -   –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å—Ç–∞—Ä—Ç–æ–≤–æ–π –ø–æ–∑–∏—Ü–∏–∏ –∏ —Ü–µ–ª–∏.
    -   –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ª–æ–∂–Ω—ã—Ö –ª–∞–±–∏—Ä–∏–Ω—Ç–æ–≤ –æ–¥–Ω–∏–º –Ω–∞–∂–∞—Ç–∏–µ–º.
-   **–ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞**:
    -   –¢–µ–ø–ª–æ–∫–∞—Ä—Ç–∞ (Heatmap) Q-–∑–Ω–∞—á–µ–Ω–∏–π.
    -   –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ –ø—É—Ç–∏ (Optimal Path).
    -   –ì—Ä–∞—Ñ–∏–∫–∏ –Ω–∞–≥—Ä–∞–¥ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —à–∞–≥–æ–≤ –ø–æ —ç–ø–∏–∑–æ–¥–∞–º.
-   **–†–µ–∂–∏–º "–¢—É—Ä–±–æ"**: –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –±—ã—Å—Ç—Ä–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è –Ω–∞ —Ç—ã—Å—è—á–∞—Ö —ç–ø–∏–∑–æ–¥–æ–≤ –±–µ–∑ –≤–∏–∑—É–∞–ª—å–Ω–æ–π –∑–∞–¥–µ—Ä–∂–∫–∏.
-   **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**:
    -   –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è.
    -   –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–∫–æ—Ä–æ—Å—Ç–∏ —Å–∏–º—É–ª—è—Ü–∏–∏.
    -   Zen-—Ä–µ–∂–∏–º (—Å–∫—Ä—ã—Ç–∏–µ UI) –∏ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º.

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Backend
-   **Python 3.10+**
-   **FastAPI**: –í—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è API.
-   **WebSockets**: –î–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–∏–º—É–ª—è—Ü–∏–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ (~30 FPS).
-   **Pydantic**: –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö.
-   **Uvicorn**: ASGI —Å–µ—Ä–≤–µ—Ä.

### Frontend
-   **React + TypeScript**
-   **Vite**: –ë—ã—Å—Ç—Ä–∞—è —Å–±–æ—Ä–∫–∞ –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞.
-   **Canvas API**: –í—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–∞—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∞ —Å–µ—Ç–∫–∏ –∏ –∞–≥–µ–Ω—Ç–∞.
-   **Lucide React**: –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∫–æ–Ω–∫–∏.
-   **Vanilla CSS**: –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ç–µ–º.

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
-   Python 3.10 –∏–ª–∏ –≤—ã—à–µ.
-   Node.js 16 –∏–ª–∏ –≤—ã—à–µ –∏ npm.

### –ë—ç–∫–µ–Ω–¥
1.  –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `backend`:
    ```bash
    cd backend
    ```
2.  –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
    ```bash
    pip install -r requirements.txt
    ```
3.  –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä:
    ```bash
    python main.py
    ```
    –°–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: `http://localhost:8000`

### –§—Ä–æ–Ω—Ç–µ–Ω–¥
1.  –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `frontend`:
    ```bash
    cd frontend
    ```
2.  –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
    ```bash
    npm install
    ```
3.  –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ä–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
    ```bash
    npm run dev
    ```
    –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É: `http://localhost:5173`

### –°–±–æ—Ä–∫–∞ –∏—Å–ø–æ–ª–Ω—è–µ–º–æ–≥–æ —Ñ–∞–π–ª–∞ (.exe)
–î–ª—è Windows –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω —Å–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–±–æ—Ä–∫–∏, –∫–æ—Ç–æ—Ä—ã–π –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥, –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç –µ–≥–æ –≤ –±—ç–∫–µ–Ω–¥ –∏ —Å–æ–∑–¥–∞–µ—Ç –µ–¥–∏–Ω—ã–π `.exe` —Ñ–∞–π–ª.
1.  –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã Node.js –∏ Python.
2.  –ó–∞–ø—É—Å—Ç–∏—Ç–µ `build.bat` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞.
3.  –†–µ–∑—É–ª—å—Ç–∞—Ç –±—É–¥–µ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ `backend/dist/Q-Table-Visualizer-V2.exe`.

## üéÆ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
-   **–°–∏–º—É–ª—è—Ü–∏—è**: –ó–∞–ø—É—Å–∫/–ø–∞—É–∑–∞, –æ–¥–∏–Ω–æ—á–Ω—ã–π —à–∞–≥, —Å–±—Ä–æ—Å.
-   **–°–∫–æ—Ä–æ—Å—Ç—å**: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–µ—Ä–∂–∫–æ–π –º–µ–∂–¥—É —à–∞–≥–∞–º–∏ (–º—Å).
-   **–¢—É—Ä–±–æ**: –û–±—É—á–µ–Ω–∏–µ –Ω–∞ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ —ç–ø–∏–∑–æ–¥–æ–≤.
-   **–†–µ–¥–∞–∫—Ç–æ—Ä**: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ª–∞–±–∏—Ä–∏–Ω—Ç–∞, –æ—á–∏—Å—Ç–∫–∞ –∫–∞—Ä—Ç—ã, –≤—ã–±–æ—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ —Ä–∏—Å–æ–≤–∞–Ω–∏—è.

### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ä–∏—Å–æ–≤–∞–Ω–∏—è
–í—ã–±–µ—Ä–∏—Ç–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –Ω–∞ –≤–µ—Ä—Ö–Ω–µ–π –ø–∞–Ω–µ–ª–∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏:
-   üß± **–°—Ç–µ–Ω–∞**: –ü—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –∞–≥–µ–Ω—Ç –Ω–µ –º–æ–∂–µ—Ç –ø—Ä–æ–π—Ç–∏.
-   üî• **–õ–æ–≤—É—à–∫–∞**: –¢–µ—Ä–º–∏–Ω–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–π –Ω–∞–≥—Ä–∞–¥–æ–π (-100).
-   üí∞ **–ë–æ–Ω—É—Å**: –ü—Ä–µ–¥–º–µ—Ç, –¥–∞—é—â–∏–π –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—É—é –Ω–∞–≥—Ä–∞–¥—É –∏ –∏—Å—á–µ–∑–∞—é—â–∏–π –ø–æ—Å–ª–µ —Å–±–æ—Ä–∞.
-   ü§ñ **–°—Ç–∞—Ä—Ç**: –¢–æ—á–∫–∞ –ø–æ—è–≤–ª–µ–Ω–∏—è –∞–≥–µ–Ω—Ç–∞.
-   üèÅ **–¶–µ–ª—å**: –¢–µ—Ä–º–∏–Ω–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å –±–æ–ª—å—à–æ–π –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–π –Ω–∞–≥—Ä–∞–¥–æ–π (+100).

### –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏
-   `Space` ‚Äî –ó–∞–ø—É—Å–∫/–ü–∞—É–∑–∞ —Å–∏–º—É–ª—è—Ü–∏–∏.
-   `ArrowRight` ‚Äî –û–¥–∏–Ω–æ—á–Ω—ã–π —à–∞–≥ (–∫–æ–≥–¥–∞ —Å–∏–º—É–ª—è—Ü–∏—è –Ω–∞ –ø–∞—É–∑–µ).
-   `Shift (—É–¥–µ—Ä–∂–∏–≤–∞—Ç—å)` ‚Äî –†–µ–∂–∏–º —É—Å–∫–æ—Ä–µ–Ω–∏—è (–Ω—É–ª–µ–≤–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞).
-   `F1` ‚Äî –°–∫—Ä—ã—Ç—å/–ø–æ–∫–∞–∑–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (Zen Mode).
-   `F11` ‚Äî –ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º.
-   `Ctrl+Shift+Enter` ‚Äî –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ –¢—É—Ä–±–æ-—Ä–µ–∂–∏–º–∞ (1000 —ç–ø–∏–∑–æ–¥–æ–≤).

## üî¨ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –õ–æ–≥–∏–∫–∞ –ê–≥–µ–Ω—Ç–∞ (`backend/core/agent.py`)
–ê–≥–µ–Ω—Ç –æ–±—É—á–∞–µ—Ç—Å—è, –æ–±–Ω–æ–≤–ª—è—è —Ç–∞–±–ª–∏—Ü—É Q-–∑–Ω–∞—á–µ–Ω–∏–π $Q(s, a)$.
-   **Q-Learning**: –í—ã–±–∏—Ä–∞–µ—Ç –¥–µ–π—Å—Ç–≤–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ $\epsilon$-–∂–∞–¥–Ω–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏, –Ω–æ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–º—É –≤–æ–∑–º–æ–∂–Ω–æ–º—É Q-–∑–Ω–∞—á–µ–Ω–∏—é —Å–ª–µ–¥—É—é—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è (off-policy).
-   **SARSA**: –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∞–ª—å–Ω–æ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è (on-policy).

### –°—Ä–µ–¥–∞ (`backend/core/environment.py`)
–°—Ä–µ–¥–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π —Å–µ—Ç–∫—É, –≥–¥–µ –∫–∞–∂–¥–æ–µ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –Ω–∞–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è (Step Penalty) –¥–ª—è –º–æ—Ç–∏–≤–∞—Ü–∏–∏ –∞–≥–µ–Ω—Ç–∞ –∏—Å–∫–∞—Ç—å –∫—Ä–∞—Ç—á–∞–π—à–∏–π –ø—É—Ç—å. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –¥–≤–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏:
1.  **Minimize Steps**: –ê–≥–µ–Ω—Ç —Å—Ç—Ä–µ–º–∏—Ç—Å—è –∫–∞–∫ –º–æ–∂–Ω–æ –±—ã—Å—Ç—Ä–µ–µ –¥–æ–π—Ç–∏ –¥–æ —Ü–µ–ª–∏.
2.  **Collect All Rewards**: –ê–≥–µ–Ω—Ç –º–æ—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω —Å–æ–±—Ä–∞—Ç—å –≤—Å–µ –±–æ–Ω—É—Å—ã –Ω–∞ –∫–∞—Ä—Ç–µ –ø–µ—Ä–µ–¥ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ–º.

### –ü–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö
–û–±—â–µ–Ω–∏–µ –º–µ–∂–¥—É —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º –∏ –±—ç–∫–µ–Ω–¥–æ–º –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑:
-   **REST API**: –ù–∞—á–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–∞—Ä—Ç.
-   **WebSockets**: –ü–æ—Ç–æ–∫–æ–≤–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –∞–≥–µ–Ω—Ç–∞ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π Q-—Ç–∞–±–ª–∏—Ü—ã –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –ø–ª–∞–≤–Ω–æ—Å—Ç–∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏.
